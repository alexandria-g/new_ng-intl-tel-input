/**
 * alexandria's betsol-ng-intl-tel-input fork - intl-tel-input integration for Angular.js
 * @version v1.3.2
 * @link https://github.com/alexandria-g/ng-intl-tel-input
 * @link https://github.com/betsol/ng-intl-tel-input
 * @license MIT
 * @author Alexandria Griffiths <alexandriagriffiths@yahoo.com.au>
 * @author Slava Fomin II <s.fomin@betsol.ru>
 */
!function(n){"use strict";n.module("betsol.intlTelInput",[]).constant("intlTelInputOptions",{}).directive("intlTelInput",["intlTelInputOptions",function(t){return{restrict:"AC",require:"ngModel",scope:{intlTelInputOptions:"=?",intlTelInputController:"=?"},link:function(e,l,i,r){var u,o=l.intlTelInput;if(!o)return u="intl-tel-input jQuery plugin must be loaded, skipping directive initialization",void console.log("ng-intl-tel-input: "+u);var a=n.extend({},e.intlTelInputOptions||{},t),s=!1,p=!1;if(f(a),r.$render=function(){s=!0,f("setNumber",r.$viewValue||""),s=!1},a.watch)if(void 0!==r.$validators)r.$validators.fullphone=function(n,t){return n||t?(f("isValidNumber")?(l.addClass("ng-valid"),l.removeClass("ng-invalid")):(l.addClass("ng-invalid"),l.removeClass("ng-valid")),!0):(l.removeClass("ng-invalid"),l.addClass("ng-valid"),!0)};else{var c=function(n){if(!n)return n;var t=g(n);return r.$setValidity("fullphone",t),n};r.$parsers.push(c),r.$formatters.push(c)}else if(void 0!==r.$validators)r.$validators.fullphone=function(n,t){if(!n&&!t)return!0;var e=g(n);return r.$setValidity("fullphone",e),e};else{c=function(n){if(!n)return n;var t=g(n);return r.$setValidity("fullphone",t),n};r.$parsers.push(c),r.$formatters.push(c)}e.$on("$destroy",function(){f("destroy")});var d=r.$setViewValue;function f(){return o.apply(l,arguments)}function v(n){e.$evalAsync(function(){r.$setViewValue("",n)})}function g(n){if(void 0!==n){var t=void 0!==n;if(t){var e=l.val();l.val(n)}var i=f("isValidNumber");return t&&l.val(e),i}return!0}r.$setViewValue=function(){arguments[0]=f("getNumber"),d.apply(r,arguments)},l.bind("country-change countrychange",function(){s||p||v("countrychange")}),e.intlTelInputController={},e.intlTelInputController.setCountry=function(n){p=!0,f("setCountry",n),v(),p=!1},e.intlTelInputController.getExtension=function(){return f("getExtension")},e.intlTelInputController.getNumber=function(){return n="getNumber",t=arguments,(e=Array.prototype.slice.call(t)).unshift(n),f.apply(null,e);var n,t,e},e.intlTelInputController.getNumberType=function(){return f("getNumberType")},e.intlTelInputController.getSelectedCountryData=function(){return f("getSelectedCountryData")}}}}])}(angular);
